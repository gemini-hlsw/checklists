<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Gemini Checklists</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gemini Dashboard">
    <meta name="author" content="Carlos Quiroz">

    <!-- CSS -->
    <link href="@routes.Assets.at("stylesheets/bootstrap.min.css")" rel="stylesheet" />
    <link href="@routes.Assets.at("stylesheets/font-awesome.css")" rel="stylesheet" />

    <link href="@routes.Assets.at("stylesheets/bootstrap-responsive.min.css")" rel="stylesheet" />
    <link href="@routes.Assets.at("stylesheets/main.css")" rel="stylesheet" />

    <script src="@routes.Assets.at("javascripts/modernizr.js")"></script>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- bootstrap fav and touch icons, replace with your own -->
    <link rel="shortcut icon" href="../assets/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">

  </head>

  <body>
    <script type="text/x-handlebars" data-template-name="application">
    <div class="navbar">
      <div class="navbar-inner">
        <a class="brand" href="#">Gemini Checklists</a>
        <ul class="nav pull-right">
          <li class="active">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            Change Site
            <b class="caret"></b>
            </a>
              <ul class="dropdown-menu">
                <li><a tabindex="-1" href="#">Gemini South</a></li>
                <li><a tabindex="-1" href="#">Gemini North</a></li>
              </ul>
          </li>
        </ul>
      </div>
    </div>
      <div class="content-fluid">
        <div class="row-fluid">
          {{outlet}}
        </div>
      </div>
    </script>
    <script type="text/x-handlebars" data-template-name="sites">
      <div class="span6 offset3 centered-content">
        <div class="well centered-content">
          <h1>Select site</h1>
          <div class="btn-group btn-group-vertical">
            {{#each site in content}}
              <button class="btn btn-large site-button" {{action siteChecklist site}}>{{site.name}}</button>
            {{/each}}
          </div>
        </div>
      </div>
    </script>
      <script type="text/x-handlebars" data-template-name="checklist">
        <div class="span6 offset3 centered-content">
          <div class="well centered-content">
            <div class="row-fluid">
            <h1>{{name}} checklist for today</h1>
            <table class="table table-stripped table-bordered">
              <thead>
                <tr>
                  <th><h3>Systems functional checks</h3></th>
                  <th><h3>Status</h3></th>
                  <th><h3>Comment</h3></th>
                </tr>
              </thead>
              <tbody>
                {{#each group in groups}}
                <tr><td colspan="3"><h4>{{group.title}}</h4></td></tr>
                    {{#each item in group.checks}}
                      <tr>
                        <td class="centered">{{item.description}}</td>
                        <td class="centered centered-content">
                          {{view Ember.Select
                              class="input-small"
                              contentBinding="Checklists.CheckValues"
                              selectionBinding="item.status"}}
                        </td>
                        <td class="centered centered-content">{{view Ember.TextField name="description" valueBinding="item.comment"}}</td>
                      </tr>
                    {{/each}}
                {{/each}}
              </tbody>
            </table>
            </div>
            <div class="row-fluid">
              <button class="btn pull-left" {{action saveChecklist}}><< Yesterday</button>
              <button class="btn pull-left" {{action saveChecklist}}>Tomorrow >></button>
              <button class="btn btn-primary pull-right" {{action saveChecklist this}}>Save</button>
            </div>
          </div>
        </div>
      </script>

    <!-- JS Files
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="@routes.Assets.at("javascripts/jquery-1.8.2.min.js")"></script>
    <script src="@routes.Assets.at("javascripts/jquery.format-1.2.min.js")"></script>
    <script src="@routes.Assets.at("javascripts/bootstrap.min.js")"></script>

    <script src="@routes.Assets.at("javascripts/handlebars-1.0.rc.1.js")"></script>
    <script src="@routes.Assets.at("javascripts/ember-1.0.0-pre.2.js")"></script>
    <script src="@routes.Assets.at("checklists.js")"></script>

  </body>
</html>
